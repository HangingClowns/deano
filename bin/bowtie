require 'active_support/core_ext'
require 'fileutils'

$:.unshift File.expand_path(File.join("..", "lib", "bowtie"), File.dirname(__FILE__))
require 'commands'

command = ARGV[0]

Bowtie::Command.commands.each do |klass|
  if klass.command == command
    klass.new(ARGV).call
    exit(0)
  end
end
Bowtie::Command.commands.each do |klass|
  if klass.respond_to?(:help)
    puts "bowtie #{klass.command} #{klass.help}"
  end
end